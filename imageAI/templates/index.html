<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
    </head>
    <body>
    <form action="#" method="POST" enctype="multipart/form-data" >
    {% csrf_token %}
    <fieldset>
    <legend><b>Upload files here!</b></legend><br>
    <label>Select an image : {{form.image_file}}</label>
    <label>Select its xml file : {{form.xml_file}}</label><br><br>
    <input type="submit" value="submit" style=" margin-left: 20% "><br>
    </fieldset>
    <div id="imgid" style="width:100px ; height:450px;">
        <img src="" id="img1" width="450px" height="450px">
    </div>
    </form>

    <form action="{% url 'report' %}" method="POST" >
    {% csrf_token %}
    <fieldset>
    <legend><b>Select Date!</b></legend><br>
    <label> Start date: </label>
    <input type="date" name="sdate">
    <label> End date: </label>
    <input type="date" name="edate"><br><br>
    <input type="submit" value="submit" style=" margin-left: 20% "><br>

    </fieldset>
    </form> 
    <script>
      const url_api="http://127.0.0.1:8000/image/";
    async function getsrc(){
        const response= await fetch(url_api);
        const data=await response.json();
        document.getElementById('img1').src = data.image_file;
    }
    getsrc();
    </script>  
        
        <script src="" async defer></script>
    </body>
</html>